# pastebin

1. User can paste any text/link or upload any image/file and can tag those things.
2. Upon successful uploading, a unique tiny url will get generated.
3. User can share that url and upon clicking that url the uploaded information will get displayed along with tags.
4. User/other users can also search the information from tag.

Currently all information are public{no support for user management as of now}.

Entities
--------
url --> contains the url. One url can be mapped to multiple documents. {since user can upload multi information on same page and then request for url.}
document --> contains the document, it can be text/link/file/image, In case of file and image document store the actual directory location.
document_tag --> contains the info which tag is mapped to which document.
tag --> contains the tag information.

Multiple tag can be mapped to multiple documents.


APIs
-----------

1. pasteit/api/fileUpload  post
   Description : It takes multipart file and upload it on a particular directory.
   Response    : It will return a uri containing a threadRefId. Hitting it will return the docId if uploaded successfully or WIP or exception.

2. pasteit/api/text  post
   Description : It takes text, url, title of the page and will insert it into DB.
   Response    : It will return a uri containing a threadRefId. Hitting it will return the docId if inserted successfully or WIP or exception.

3. pasteit/api/tag   post
   Description : It takes tag/tags and docIds to tag the docIds. DocIds will be generated by above 2 APIs
   Response    : It will return a unique tiny url which can be shared and also will be used to access the uploaded details.

4. pasteit/api/search?title=<>  get
   Description : It takes tag/tags/pageTitle and will search the DB according to the input parameters.
   Response    : It will return the List of matched pages.

5. pasteit/api/genericSearch?pageno=<>  get
   Description : Its the paginated API which will return all the inserted information order by createdDate.
   Response    : It will return the List of all pages with pagination.


# projects : no. of projects will be 2

   pastebackend  {it will be a Spring Boot project}
      --> api
      --> core
      --> dao

   pasteApiGateway {another Spring Boot project for API gateway}
    Its an API gateway for all the backend APIs i.e. exposed at pastebackend.  All APIs will be called from this pasteApiGateway.

   pasteFrontEnd { spring boot + Thymeleaf project}
     It will be an MVC project with thymeleaf. EndUser will interact to this project. This will talk to pasteApiGateway.

# APIFlow
   API pasteit/api/fileUpload and pasteit/api/text will get called in parallel or either one of them will be called according
   to the uploaded information by user.
   These apis will return the docId. This docId will be provided as input to pasteit/api/tag API from apiGateway for
   tagging the above uploaded details.
